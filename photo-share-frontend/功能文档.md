# 图片分享应用 - 前端功能文档

## 项目概述
这是一个基于Vue3 + Vant UI的图片分享应用，用户可以注册、登录、上传图片、浏览他人作品、进行社交互动。

## 核心功能模块

### 1. 用户认证系统
#### 1.1 用户注册
- **功能描述**: 新用户通过手机号、密码、昵称进行注册
- **前端页面**: `/register`
- **表单字段**:
  - 手机号 (必填，格式验证)
  - 密码 (必填，长度验证)
  - 昵称 (必填)
- **验证规则**:
  - 手机号格式: 11位数字
  - 密码长度: 6-20位
  - 昵称: 非空验证
- **API接口**: `POST /api/auth/register`

#### 1.2 用户登录
- **功能描述**: 已注册用户通过手机号、密码登录
- **前端页面**: `/login`
- **表单字段**:
  - 手机号 (必填，格式验证)
  - 密码 (必填，长度验证)
- **验证规则**:
  - 手机号格式: 11位数字
  - 密码长度: 6-20位
- **API接口**: `POST /api/auth/login`
- **状态管理**: 登录成功后保存用户信息到localStorage和store

#### 1.3 用户状态管理
- **功能描述**: 管理用户登录状态，页面刷新后保持登录
- **存储方式**: localStorage + Pinia store
- **状态信息**: 用户ID、手机号、昵称、头像等
- **自动恢复**: 页面刷新时从localStorage恢复用户状态

### 2. 图片管理系统
#### 2.1 图片上传
- **功能描述**: 用户上传图片作品
- **前端页面**: `/publish`
- **上传字段**:
  - 图片文件 (必填，支持jpg/png)
  - 标题 (必填)
  - 描述 (可选)
  - 标签 (可选)
- **文件限制**: 
  - 格式: jpg, jpeg, png
  - 大小: 5MB以内
- **API接口**: 
  - 文件上传: `POST /api/upload/photo`
  - 信息保存: `POST /api/photos`
- **预览功能**: 上传前本地预览

#### 2.2 图片展示
- **功能描述**: 瀑布流展示图片列表
- **前端页面**: `/` (首页)
- **展示方式**: 响应式瀑布流布局
- **图片信息**: 缩略图、标题、作者、点赞数、评论数
- **API接口**: `GET /api/photos`
- **交互功能**: 点击图片查看详情

#### 2.3 图片详情
- **功能描述**: 查看单张图片的详细信息
- **前端页面**: `/photo/:id`
- **显示内容**:
  - 大图展示
  - 图片信息 (标题、描述、标签、拍摄参数等)
  - 作者信息
  - 点赞、评论列表
  - 操作按钮 (点赞、评论、分享)
- **API接口**: `GET /api/photos/:id`

### 3. 用户个人中心
#### 3.1 用户资料页面
- **功能描述**: 展示用户个人信息和作品集
- **前端页面**: `/user/:id`
- **显示内容**:
  - 用户头像、昵称、简介
  - 关注/粉丝数量
  - 作品列表 (瀑布流)
  - 关注/取消关注按钮
- **API接口**: 
  - 用户信息: `GET /api/users/:id`
  - 用户作品: `GET /api/photos/user/:id`

#### 3.2 个人信息编辑
- **功能描述**: 用户编辑个人资料
- **前端页面**: `/profile/edit`
- **编辑字段**:
  - 头像上传
  - 昵称
  - 个人简介
  - 其他个人信息
- **API接口**: `PUT /api/users/:id`

### 4. 社交互动功能
#### 4.1 点赞系统
- **功能描述**: 用户对喜欢的图片进行点赞
- **交互位置**: 图片详情页、图片卡片
- **API接口**: 
  - 点赞: `POST /api/likes`
  - 取消点赞: `DELETE /api/likes/:photoId`
- **状态显示**: 实时显示点赞数量和点赞状态

#### 4.2 评论系统
- **功能描述**: 用户对图片进行评论
- **交互位置**: 图片详情页
- **功能特性**:
  - 发表评论
  - 查看评论列表
  - 删除自己的评论
- **API接口**: 
  - 发表评论: `POST /api/comments`
  - 获取评论: `GET /api/comments/photo/:photoId`
  - 删除评论: `DELETE /api/comments/:id`

#### 4.3 关注系统
- **功能描述**: 用户关注其他用户
- **交互位置**: 用户资料页面
- **API接口**: 
  - 关注: `POST /api/follows`
  - 取消关注: `DELETE /api/follows/:userId`
- **状态显示**: 实时显示关注状态和关注数量

### 5. 页面路由和导航
#### 5.1 路由结构
```
/ - 首页 (图片列表)
/login - 登录页面
/register - 注册页面
/publish - 发布页面
/user/:id - 用户资料页面
/photo/:id - 图片详情页面
/profile/edit - 个人信息编辑
```

#### 5.2 导航组件
- **底部导航栏**: 首页、发布、个人中心
- **顶部导航**: 返回按钮、页面标题、操作按钮
- **路由守卫**: 登录状态验证，未登录用户重定向到登录页

### 6. 数据状态管理
#### 6.1 用户状态 (Pinia Store)
- **状态内容**: 用户信息、登录状态、token
- **持久化**: localStorage同步
- **Actions**: 登录、注册、退出、更新用户信息

#### 6.2 应用状态
- **全局配置**: 主题、语言等
- **缓存管理**: 图片缓存、API响应缓存
- **错误处理**: 全局错误捕获和处理

### 7. UI/UX特性
#### 7.1 响应式设计
- **移动端优先**: 适配各种屏幕尺寸
- **触摸优化**: 手势操作、触摸反馈
- **瀑布流布局**: 自适应图片展示

#### 7.2 用户体验
- **加载状态**: 骨架屏、加载动画
- **错误处理**: 友好的错误提示
- **操作反馈**: Toast提示、确认对话框

## 技术栈
- **前端框架**: Vue 3 + Composition API
- **UI组件库**: Vant 4
- **状态管理**: Pinia
- **路由管理**: Vue Router 4
- **HTTP客户端**: Axios
- **构建工具**: Vite
- **样式处理**: CSS3 + 响应式设计

## 开发规范
- **代码风格**: ESLint + Prettier
- **组件命名**: PascalCase
- **文件结构**: 按功能模块组织
- **API管理**: 统一的请求封装和错误处理